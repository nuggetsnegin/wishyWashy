{"version":3,"sources":["firebase.js","components/Error.js","components/CreateWish.js","components/Support.js","components/SubmittedWish.js","components/DisplayWishes.js","components/Footer.js","components/Header.js","App.js","serviceWorker.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Error","className","onClick","this","props","closeError","Component","filter","require","CreateWish","handleInput","event","setState","wishInput","target","value","toggleError","showError","state","checkBadWords","clean","validateInput","trimmedWishInput","trim","length","handleSubmit","preventDefault","validatedInput","console","log","cleanedText","support","database","ref","push","wish","characterRemaining","onSubmit","htmlFor","rows","maxLength","type","onChange","placeholder","disabled","Support","supporting","dbRef","wishId","newSupportVal","child","update","role","aria-label","SubmittedWish","animationClass","id","key","DisplayWishes","shuffleArray","wishesArray","i","randomized","Math","floor","random","wishes","on","snapshot","dbWishes","val","displayWishes","wishObject","mostRecentWish","reverse","shift","randomWishes","combinedWishes","slice","bubbleClasses","map","Footer","Header","App","Boolean","window","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.3b25384f.chunk.js","sourcesContent":["import firebase from 'firebase'\n// Initialize Firebase\nconst firebaseConfig = {\n  apiKey: 'AIzaSyBf6WRp2Vfq9FTfvids02HOQHtYQWY6HAc',\n  authDomain: 'wishy-washy-7388d.firebaseapp.com',\n  databaseURL: 'https://wishy-washy-7388d.firebaseio.com',\n  projectId: 'wishy-washy-7388d',\n  storageBucket: 'wishy-washy-7388d.appspot.com',\n  messagingSenderId: '810419923918',\n  appId: '1:810419923918:web:5b7446d6139d0fe39ed99f'\n}\n\nfirebase.initializeApp(firebaseConfig)\n// this exports the CONFIGURED version of firebase\nexport default firebase\n","import React, { Component } from 'react';\n\nclass Error extends Component {\n\n  render(){\n\n    return (\n        <div className=\"errorMessage\">\n            <h2>Can't have an empty wish!</h2>\n            <button className=\"agreeButton\" onClick={this.props.closeError}>Okay!</button>\n        </div>\n    );\n\n  }\n}\n\nexport default Error","/* CREATEWISH.JS COMPONENT */\n/* Create a single 'wish' and loading it to the database. Rendering the text input field. */\nimport React, { Component } from 'react'\nimport firebase from '../firebase.js'\nimport Error from './Error'\n\nconst filter = require('leo-profanity') /* for filtering bad words */\n\nclass CreateWish extends Component {\n  constructor () {\n    super()\n    this.state = {\n      wishInput: '',\n      support: 0,\n      characterRemaining: 120,\n      showError: false /* for error pop up */\n    }\n  }\n\n  handleInput = event => {\n    this.setState({\n      wishInput: event.target.value\n    })\n  }\n\n  toggleError = () => {\n    this.setState({\n      showError: !this.state.showError /* toggling error */\n    })\n  }\n\n  checkBadWords = () => {\n    const wishInput = this.state.wishInput\n    let cleanedUp = filter.clean(wishInput, 'üí¢')\n\n    return cleanedUp\n  }\n\n  validateInput = wishInput => {\n    const trimmedWishInput = wishInput.trim() /* avoid white space ~ user inputting empty wish */\n    /* check if input not empty and *check if wish under char length */\n    if (trimmedWishInput !== '' && wishInput.length > 0) {\n      return trimmedWishInput\n    } else {\n      /* disable button */\n      this.toggleError()\n      return false\n    }\n  }\n\n  handleSubmit = event => {\n    /* stop refresh on button click */\n    event.preventDefault()\n\n    /* grabbing the current state of wish and calling checkBadwords and setting it to a new variable called wishToBeAdded also setting current state of support to support to push to db */\n\n    const validatedInput = this.validateInput(this.state.wishInput)\n    console.log(validatedInput)\n\n    if (validatedInput) {\n      const cleanedText = this.checkBadWords()\n\n      /* support is always 0 on creation so maybe not necessary */\n      const support = this.state.support\n\n      const dbRef = firebase.database().ref() /* db reference */\n      dbRef.push({\n        wish: cleanedText,\n        support: support\n      })\n      this.setState({\n        wishInput: '' /* making input field empty on submit */\n      })\n    }\n  }\n\n  render () {\n    return (\n      <div className='inputContainer'>\n        {this.state.showError ? <Error closeError={this.toggleError} /> : null}\n        <div className='input'>\n          <form onSubmit={this.handleSubmit}>\n            <label htmlFor='wishInput' />\n\n            <textarea\n              rows='6'\n              maxLength={120}\n              type='text'\n              value={this.state.wishInput}\n              onChange={this.handleInput}\n              placeholder='I wish I could own 3 cats someday!'\n            />\n            <div className='buttonWrapper'>\n              <p>Wish Words Remaining: {this.state.wishInput.length}/120</p>\n\n              <button\n                className='wishButton'\n                type='submit'\n                disabled={!this.state.wishInput || this.state.showError}\n              >\n                Submit Wish\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default CreateWish\n","import React, { Component } from 'react'\nimport firebase from '../firebase.js'\n/* SUPPORT.JS - checking how many times a support has been issued (user clicks!) and rendering the result */\n\nclass Support extends Component {\n  constructor (props) {\n    super(props) /* preserving props from overriding constructor */\n    this.state = {\n      support: this.props.support\n    }\n  }\n  /* DbKey and Support => Update Wish of this dbKey with this support number */\n  supporting = () => {\n    const dbRef = firebase.database().ref()\n    const { wishId } = this.props\n    const newSupportVal = this.state.support + 1\n    this.setState({\n      support: newSupportVal\n    })\n\n    dbRef.child(wishId).update({ support: newSupportVal })\n\n    console.log('support state', this.state.support)\n    console.log('support props', this.props.support)\n  }\n\n  /* rendering support number and button */\n  render () {\n    /* only need theWishId and support to increment support # */\n    return (\n      <div className='displaySupport'>\n        <button className='supportButton' onClick={this.supporting}>\n          <div className='heartWrapper'>\n            <span className='heart' role='img' aria-label='heart emoji'>\n              üíô\n            </span>\n            {this.state.support}\n          </div>\n        </button>\n      </div>\n    )\n  }\n}\n\nexport default Support\n","/* SUBMITTEDWISH.JS - read only component, finished wish */\nimport React, { Component } from 'react'\nimport Support from './Support'\n\nclass SubmittedWish extends Component {\n  render () {\n    const {\n      wishId,\n      wish,\n      support,\n      animationClass\n    } = this.props /* destructing props from displayWishes */\n    return (\n      <div className={animationClass + ' ' + 'bubblePosition'} id={wishId}>\n        <li className='wobble'>{wish}</li>\n        <Support support={support} key={wishId} wishId={wishId} />\n      </div>\n    )\n  }\n}\n\nexport default SubmittedWish\n","/* DISPLAYWISHES.JS */\nimport React, { Component } from 'react'\nimport SubmittedWish from './SubmittedWish'\nimport firebase from '../firebase.js'\n\nclass DisplayWishes extends Component {\n  constructor () {\n    super()\n    this.state = {\n      wishes: [] /* empty because we're loading from db */\n    }\n  }\n\n  /* connecting to db */\n  componentDidMount () {\n    const dbRef = firebase.database().ref()\n\n    dbRef.on('value', snapshot => {\n      const dbWishes = snapshot.val()\n      const displayWishes = [] /* using thsi to display shit */\n\n      /* for in loop to grab db info and put it into an object */\n      for (let key in dbWishes) {\n        const wishObject = {\n          wishId: key,\n          wish: dbWishes[key].wish,\n          support: dbWishes[key].support\n        }\n        displayWishes.push(wishObject)\n      }\n\n      const mostRecentWish = displayWishes\n        .reverse()\n        .shift() /* needed to show the users first wish on screen and not have it randomized */\n      const randomWishes = this.shuffleArray(displayWishes)\n\n      /* grabs the most recent wish and 9 random ones using destructuring so we dont return an object */\n      const combinedWishes = [mostRecentWish, ...randomWishes.slice(0, 9)]\n\n      this.setState({\n        wishes: combinedWishes /* recent users wish and 9 random */\n      })\n    })\n  }\n\n  shuffleArray = wishesArray => {\n    for (let i = wishesArray.length - 1; i > 0; i--) {\n      const randomized = Math.floor(Math.random() * i + 1)\n      ;[wishesArray[i], wishesArray[randomized]] = [\n        wishesArray[randomized],\n        wishesArray[i]\n      ]\n    }\n    return wishesArray\n  }\n\n  render () {\n    /* for assigning random x1-x10 class for bubble animations on user wishes */\n    const bubbleClasses = [\n      'x1',\n      'x2',\n      'x3',\n      'x4',\n      'x5',\n      'x6',\n      'x7',\n      'x8',\n      'x9',\n      'x10'\n    ]\n    const wishes = this.state.wishes\n\n    return (\n      <div className='wishDisplay'>\n        <ul>\n          {/* map through object so we can render it */}\n          {wishes.map((wish, i) => {\n            return (\n              /* passing props to submittedWish component from wishObject */\n              <SubmittedWish\n                animationClass={bubbleClasses[i]}\n                key={i}\n                wishId={wish.wishId}\n                wish={wish.wish}\n                support={wish.support}\n              />\n            )\n          })}\n        </ul>\n      </div>\n    )\n  }\n}\n\nexport default DisplayWishes\n","import React, { Component } from 'react'\n\nclass Footer extends Component {\n  render () {\n    return (\n      <footer className='footer'>\n        <p>\n          <span role='img' aria-label='fish emoji'>\n            üêü\n          </span>\n          Made with big wishes by Negin Sauermann ¬©Ô∏è 2019{' '}\n          <span role='img' aria-label='fish emoji'>\n            üêü\n          </span>\n        </p>\n      </footer>\n    )\n  }\n}\n\nexport default Footer\n","import React, { Component } from 'react'\n\nclass Header extends Component {\n  render () {\n    return (\n      <header className='header'>\n        <h1 className='knockout'>Wishy Washy</h1>\n      </header>\n    )\n  }\n}\n\nexport default Header\n","import React, { Component } from 'react';\nimport './styles/App.css';\nimport CreateWish from './components/CreateWish';\nimport DisplayWishes from './components/DisplayWishes';\nimport Footer from './components/Footer';\nimport Header from './components/Header';\n\nclass App extends Component {\n\n  render(){\n\n    return (\n    <div className=\"App\">\n\n        <Header />\n        <div className=\"wrapper\">\n        <div className=\"introduction\">\n              <p>Hi there, I see you want to make a wish well.. just type one in! If you're too shy to share, feel free to like other people's wishes!</p>\n        </div>\n          <main>\n            <CreateWish />\n            <DisplayWishes />\n          </main>\n        </div>\n        <Footer />\n      </div>\n    );\n\n  }\n\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}